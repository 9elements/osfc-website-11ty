{% extends "layouts/base.html" %}
{% block content %}

{% set talk = pagination.items[0] %}

<section id="intro" class="intro">
  <div class="wrapper-l stack-300">
    <h1 class="fluid-text-800-900 leading-flat uppercase color-black weight-black">
      {{ talk.title }}
    </h1>
    <div class="cluster" style="--cluster-gap: 0.5rem;">
    {% for speaker in talk.speakers %}
      {% include "partials/speaker-pill.html" %}
    {% endfor %}
    </div>
    <p class="my-stack-space-100">
      <span class="weight-bold">
        {{ talk.slot.room.en }},
        <time datetime="{{ talk.slot.start | w3DateFilter }}">{{ talk.slot.start | dateFilter}}</time>
      </span>
      <span>
        {{ helpers.getDuration(talk.slot.start, talk.slot.end) }}
      </span>
    </p>

    {% for video in videos %}
      {% if video.submission == talk.code %}
        <div class="video" style="--aspect-ratio:16/9;">
          <iframe src="https://player.vimeo.com/video/{{video.vimeo_id}}?h=7a191cc612&color=4f51a9" width="640" height="360" frameborder="0" allow="autoplay; fullscreen; picture-in-picture" allowfullscreen></iframe>
        </div>
      {% endif %}
    {% endfor %}


    {% if talk.abstract %}
      <div class="stack-300 shadow-box | fluid-text-400-500">
        {{ talk.abstract | markdownFilter | safe }}
      </div>
    {% endif %}
    {% if talk.resources.length > 0 %}
      <h2>Resources:</h2>
      <ul>
      {% for resource in talk.resources %}
        <li>
          <a href="https://talks.osfc.io{{resource.resource}}">
            {{ resource.description }}
          </a>
        </li>
      {% endfor %}
      </ul>
      <hr>
    {% endif %}
  </div>

</section>

{%endblock %}
